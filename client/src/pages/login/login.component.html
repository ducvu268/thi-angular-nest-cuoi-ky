<p-toast></p-toast>
<div class="login-container">
    <div class="login-card">
        <div class="login-header">
            <div class="logo-container">
                <img src="images/ic_logo_starbucks.png" alt="Logo" class="logo-image">
            </div>
            <h1>Đăng nhập</h1>
            <p>Chào mừng trở lại! Vui lòng đăng nhập để tiếp tục.</p>
        </div>

        <form [formGroup]="formLogin" (ngSubmit)="login()">
            <div class="p-fluid">
                <!-- field item -->
                <div class="field">
                    <p-iftalabel>
                        <p-iconfield>
                            <p-inputicon class="pi pi-envelope" />
                            <input pInputText id="email" autocomplete="off" type="text" pInputText
                                formControlName="email" placeholder="Nhập email">
                        </p-iconfield>
                        <label for="email">Email</label>
                    </p-iftalabel>
                    <!-- error -->
                    <small
                        *ngIf="formLogin.get('email').errors && formLogin.get('email').errors['required'] && isSubmitted"
                        class="error-message">
                        Vui lòng nhập email
                    </small>
                    <small
                        *ngIf="formLogin.get('email').errors && formLogin.get('email').errors['email'] && isSubmitted"
                        class="error-message">
                        Vui lòng nhập đúng định dạng email
                    </small>
                </div>

                <!-- field item -->
                <div class="field">
                    <p-iftalabel>
                        <p-iconfield>
                            <p-inputicon class="pi pi-lock" />
                            <p-password id="password" autocomplete="off" type="password" formControlName="password"
                                placeholder="Nhập mật khẩu" [toggleMask]="true" styleClass="w-full"
                                [style]="{'width': '100%'}">
                            </p-password>
                        </p-iconfield>
                        <label for="password">Mật khẩu</label>
                    </p-iftalabel>
                    <!-- error -->
                    <small
                        *ngIf="formLogin.get('password').errors && formLogin.get('password').errors['required'] && isSubmitted"
                        class="error-message">
                        Vui lòng nhập mật khẩu
                    </small>
                    <small
                        *ngIf="formLogin.get('password').errors && formLogin.get('password').errors['minlength'] && isSubmitted"
                        class="error-message">
                        Mật khẩu phải có ít nhất 8 ký tự
                    </small>
                </div>

                <div class="options-row">
                    <div class="remember-me">
                        <p-checkbox binary="true" inputId="rememberMe"></p-checkbox>
                        <label for="rememberMe" class="ml-2">Ghi nhớ đăng nhập</label>
                    </div>
                    <a href="/forgot-password" class="forgot-password">Quên mật khẩu?</a>
                </div>

                <div class="button-container">
                    <p-button type="submit" label="Đăng nhập"
                        styleClass="p-button-raised p-button-rounded login-button"></p-button>
                </div>
            </div>
        </form>

        <div class="register-link">
            <span>Chưa có tài khoản? </span>
            <a href="/register">Đăng ký ngay</a>
        </div>
    </div>
</div>